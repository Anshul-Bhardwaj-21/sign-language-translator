# Production Configuration for Sign Language Accessibility Video Call App

app:
  name: "Sign Language Accessibility Translator"
  version: "1.0.0"
  environment: "development"  # development | production
  debug: true

camera:
  index: 0
  width: 960
  height: 540
  target_fps: 24
  buffer_size: 1
  warmup_frames: 3

hand_detection:
  max_num_hands: 1
  min_detection_confidence: 0.6
  min_tracking_confidence: 0.5
  landmark_smoothing: true
  smoothing_window: 5

gesture_controls:
  enabled: true
  debounce_frames: 8
  cooldown_frames: 15
  confidence_threshold: 0.65
  # Gesture definitions
  open_palm_action: "toggle_pause"
  fist_action: "confirm_sentence"
  two_fingers_action: "undo_last_word"

movement_tracking:
  velocity_threshold_stable: 0.015
  velocity_threshold_fast: 0.08
  stable_frames_required: 5
  idle_frames_required: 12

ml:
  model_path: "ml/models/landmark_classifier.pkl"
  sequence_length: 24
  min_confidence: 0.58
  confidence_scale: 6.0
  max_sequence_buffer: 72
  
  # Incremental learning
  incremental_learning_enabled: true
  min_corrections_for_training: 5
  replay_buffer_size: 500
  fine_tune_epochs: 5
  fine_tune_lr: 0.0001

tts:
  engine: "browser"  # browser | pyttsx3
  rate: 1.0
  volume: 1.0
  language: "en"
  fallback_language: "hi"

webrtc:
  stun_servers:
    - "stun:stun.l.google.com:19302"
    - "stun:stun1.l.google.com:19302"
  ice_connection_timeout: 30
  max_reconnect_attempts: 3

backend:
  host: "0.0.0.0"
  port: 8000
  cors_origins:
    - "http://localhost:8501"
    - "http://localhost:3000"
  websocket_ping_interval: 20
  websocket_ping_timeout: 10

firebase:
  enabled: false  # Set to true when Firebase is configured
  credentials_path: "configs/firebase-credentials.json"
  project_id: "your-project-id"
  storage_bucket: "your-project-id.appspot.com"
  collections:
    captions: "captions"
    corrections: "corrections"
    sessions: "sessions"

accessibility:
  high_contrast_mode: true
  large_text_mode: true
  screen_reader_support: true
  keyboard_navigation: true
  caption_font_size: 1.65  # rem
  min_touch_target_size: 48  # pixels

safety:
  max_consecutive_frame_failures: 20
  freeze_on_error: true
  graceful_degradation: true
  error_recovery_enabled: true
  auto_restart_on_critical_error: false

logging:
  level: "INFO"  # DEBUG | INFO | WARNING | ERROR
  file: "logs/app.log"
  max_file_size: 10485760  # 10MB
  backup_count: 5
